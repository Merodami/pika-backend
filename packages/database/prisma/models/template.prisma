/// Templates - Email/SMS/Push notification templates
model Template {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name        String   @unique @db.VarChar(100) // Unique template identifier
  type        String   @db.VarChar(20) // email, sms, push
  category    String?  @db.VarChar(50) // session, induction, professional, etc.
  externalId  String   @unique @map("external_id") @db.VarChar(255) // EmailJS template ID, etc.
  subject     String?  @db.VarChar(255) // Default subject for emails
  body        String   @db.Text // Template body content with variables
  description String?  @db.Text // Template description for admin UI
  variables   Json?    @db.JsonB // Expected template variables schema
  metadata    Json?    @db.JsonB // Additional template configuration
  isActive    Boolean  @default(true) @map("is_active")
  createdAt   DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt   DateTime? @default(now()) @map("updated_at") @db.Timestamptz(6) @updatedAt


  // Indexes
  @@index([type, isActive])
  @@index([category])
  @@index([name])

  @@map("templates")
  @@schema("support")
}